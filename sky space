<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Sky & Space Shooter</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { background: #000; display: flex; justify-content: center; align-items: center; min-height: 100vh; font-family: 'Courier New', monospace; overflow: hidden; touch-action: none; }
        #gameContainer { position: relative; width: 100vw; height: 100vh; max-width: 800px; max-height: 600px; background: linear-gradient(to bottom, #001a33 0%, #000428 50%, #000 100%); border: 3px solid #0ff; box-shadow: 0 0 30px rgba(0,255,255,0.5); }
        canvas { display: block; width: 100%; height: 100%; }
        #ui { position: absolute; top: 10px; left: 10px; color: #0ff; font-size: 16px; text-shadow: 0 0 10px #0ff; z-index: 10; pointer-events: none; }
        #upgradePanel { position: absolute; top: 10px; right: 10px; background: rgba(0, 20, 40, 0.95); padding: 10px; border: 2px solid #0ff; color: #0ff; font-size: 12px; max-width: 200px; z-index: 10; max-height: 90vh; overflow-y: auto; }
        .upgrade { margin: 6px 0; padding: 6px; background: rgba(0, 100, 150, 0.3); border: 1px solid #0aa; cursor: pointer; transition: all 0.2s; user-select: none; }
        .upgrade:active { background: rgba(0, 150, 200, 0.7); transform: scale(0.95); }
        .upgrade.maxed { opacity: 0.5; cursor: not-allowed; background: rgba(50, 50, 50, 0.3); }
        .upgrade-name { font-weight: bold; color: #fff; font-size: 11px; }
        .upgrade-cost { color: #ff0; font-size: 10px; }
        .upgrade-level { color: #0f0; font-size: 10px; }
        #mobileControls { position: absolute; bottom: 20px; left: 20px; z-index: 15; display: none; }
        .joystick { width: 120px; height: 120px; background: rgba(0, 255, 255, 0.2); border: 3px solid rgba(0, 255, 255, 0.5); border-radius: 50%; position: relative; touch-action: none; }
        .joystick-knob { width: 50px; height: 50px; background: rgba(0, 255, 255, 0.6); border: 2px solid #0ff; border-radius: 50%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); box-shadow: 0 0 15px rgba(0, 255, 255, 0.8); }
        #shootButton { position: absolute; bottom: 20px; right: 20px; width: 100px; height: 100px; background: rgba(255, 0, 0, 0.3); border: 3px solid rgba(255, 0, 0, 0.6); border-radius: 50%; color: #f00; font-size: 14px; font-weight: bold; display: none; justify-content: center; align-items: center; z-index: 15; cursor: pointer; user-select: none; touch-action: none; box-shadow: 0 0 20px rgba(255, 0, 0, 0.5); }
        #shootButton:active { background: rgba(255, 0, 0, 0.6); transform: scale(0.95); }
        #gameOver { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; color: #f00; font-size: 36px; text-shadow: 0 0 20px #f00; display: none; z-index: 20; }
        #gameOver button { margin-top: 20px; padding: 15px 30px; font-size: 20px; background: #0ff; border: none; color: #000; cursor: pointer; font-family: 'Courier New', monospace; text-shadow: none; }
        #gameOver button:active { background: #0aa; transform: scale(0.95); }
        #instructions { position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%); color: #0ff; font-size: 12px; text-align: center; pointer-events: none; }
        @media (max-width: 768px) { #mobileControls, #shootButton { display: flex; } #upgradePanel { font-size: 11px; padding: 8px; max-width: 160px; } #instructions { display: none; } #ui { font-size: 14px; } }
    </style>
</head>
<body>    <div id="gameContainer">
        <canvas id="gameCanvas"></canvas>
        <div id="ui">
            <div>Score: <span id="score">0</span></div>
            <div>Health: <span id="health">100</span></div>
            <div>Level: <span id="level">1</span></div>
            <div style="color: #ff0;">Credits: <span id="credits">0</span></div>
        </div>
        <div id="upgradePanel">
            <div style="font-weight: bold; margin-bottom: 8px; text-align: center; color: #fff;">UPGRADES</div>
            <div class="upgrade" id="upgradeFireRate"><div class="upgrade-name">Fire Rate</div><div class="upgrade-level">Level: <span id="fireRateLevel">1</span>/5</div><div class="upgrade-cost">Cost: <span id="fireRateCost">50</span></div></div>
            <div class="upgrade" id="upgradeDamage"><div class="upgrade-name">Damage</div><div class="upgrade-level">Level: <span id="damageLevel">1</span>/5</div><div class="upgrade-cost">Cost: <span id="damageCost">75</span></div></div>
            <div class="upgrade" id="upgradeSpeed"><div class="upgrade-name">Speed</div><div class="upgrade-level">Level: <span id="speedLevel">1</span>/5</div><div class="upgrade-cost">Cost: <span id="speedCost">60</span></div></div>
            <div class="upgrade" id="upgradeHealth"><div class="upgrade-name">Max Health</div><div class="upgrade-level">Level: <span id="healthLevel">1</span>/5</div><div class="upgrade-cost">Cost: <span id="healthCost">100</span></div></div>
            <div class="upgrade" id="upgradeMultishot"><div class="upgrade-name">Multi-Shot</div><div class="upgrade-level">Level: <span id="multishotLevel">0</span>/3</div><div class="upgrade-cost">Cost: <span id="multishotCost">150</span></div></div>
        </div>
        <div id="mobileControls"><div class="joystick" id="joystick"><div class="joystick-knob" id="joystickKnob"></div></div></div>
        <div id="shootButton">SHOOT</div>
        <div id="gameOver">GAME OVER<div style="font-size: 20px; margin-top: 10px;">Final Score: <span id="finalScore">0</span></div><button onclick="restartGame()">RESTART</button></div>
        <div id="instructions">Desktop: WASD/Arrows: Move | SPACE/Click: Shoot | Mouse: Aim</div>
    </div>
    <script>
const canvas=document.getElementById('gameCanvas'),ctx=canvas.getContext('2d');canvas.width=800;canvas.height=600;let gameRunning=true,score=0,credits=0,health=100,level=1,mouseX=canvas.width/2,mouseY=canvas.height/2,isShooting=false;const upgrades={fireRate:{level:1,maxLevel:5,cost:50,baseCost:50},damage:{level:1,maxLevel:5,cost:75,baseCost:75},speed:{level:1,maxLevel:5,cost:60,baseCost:60},maxHealth:{level:1,maxLevel:5,cost:100,baseCost:100},multishot:{level:0,maxLevel:3,cost:150,baseCost:150}},keys={},player={x:canvas.width/2,y:canvas.height-80,width:40,height:40,speed:5,shootCooldown:0};let joystickActive=false,joystickOrigin={x:0,y:0},joystickVector={x:0,y:0};const bullets=[],enemies=[],particles=[],stars=[],powerupItems=[];for(let i=0;i<100;i++)stars.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,size:Math.random()*2,speed:Math.random()*2+1});class Bullet{constructor(x,y,targetX,targetY,damage=1){this.x=x;this.y=y;const angle=Math.atan2(targetY-y,targetX-x);this.vx=Math.cos(angle)*10;this.vy=Math.sin(angle)*10;this.size=4;this.damage=damage}update(){this.x+=this.vx;this.y+=this.vy}draw(){ctx.fillStyle='#0ff';ctx.shadowBlur=10;ctx.shadowColor='#0ff';ctx.fillRect(this.x-this.size/2,this.y-this.size/2,this.size,this.size);ctx.shadowBlur=0}}class Enemy{constructor(type){this.type=type;this.x=Math.random()*(canvas.width-40);this.y=-50;this.width=type==='plane'?35:45;this.height=type==='plane'?35:45;this.speed=type==='plane'?2+level*0.3:1.5+level*0.2;this.maxHealth=type==='plane'?1:3;this.health=this.maxHealth;this.points=type==='plane'?10:25;this.creditDrop=type==='plane'?5:15}update(){this.y+=this.speed}draw(){if(this.type==='plane'){ctx.fillStyle='#f90';ctx.shadowBlur=10;ctx.shadowColor='#f90';ctx.fillRect(this.x+15,this.y+5,10,25);ctx.fillRect(this.x,this.y+15,40,8);ctx.fillStyle='#ff0';ctx.fillRect(this.x+16,this.y+8,8,8)}else{ctx.fillStyle='#f0f';ctx.shadowBlur=15;ctx.shadowColor='#f0f';ctx.beginPath();ctx.moveTo(this.x+22,this.y);ctx.lineTo(this.x+45,this.y+30);ctx.lineTo(this.x+22,this.y+45);ctx.lineTo(this.x,this.y+30);ctx.closePath();ctx.fill();ctx.fillStyle='#fff';ctx.fillRect(this.x+18,this.y+20,8,8)}if(this.health<this.maxHealth){const barWidth=this.width,barHeight=4;ctx.fillStyle='#f00';ctx.fillRect(this.x,this.y-8,barWidth,barHeight);ctx.fillStyle='#0f0';ctx.fillRect(this.x,this.y-8,barWidth*(this.health/this.maxHealth),barHeight)}ctx.shadowBlur=0}}class Powerup{constructor(x,y,type){this.x=x;this.y=y;this.width=20;this.height=20;this.type=type;this.speed=2;this.lifespan=300}update(){this.y+=this.speed;this.lifespan--}draw(){const colors={health:'#0f0',shield:'#00f',credits:'#ff0'};ctx.fillStyle=colors[this.type];ctx.shadowBlur=15;ctx.shadowColor=colors[this.type];ctx.beginPath();ctx.arc(this.x,this.y,this.width/2,0,Math.PI*2);ctx.fill();ctx.fillStyle='#fff';ctx.font='14px Arial';ctx.textAlign='center';const icons={health:'+',shield:'S',credits:'$'};ctx.fillText(icons[this.type],this.x,this.y+5);ctx.shadowBlur=0}}class Particle{constructor(x,y,color){this.x=x;this.y=y;this.vx=(Math.random()-0.5)*4;this.vy=(Math.random()-0.5)*4;this.size=Math.random()*3+2;this.life=30;this.color=color}update(){this.x+=this.vx;this.y+=this.vy;this.life--;this.size*=0.95}draw(){ctx.fillStyle=this.color;ctx.globalAlpha=this.life/30;ctx.fillRect(this.x,this.y,this.size,this.size);ctx.globalAlpha=1}}function drawPlayer(){const angle=Math.atan2(mouseY-player.y,mouseX-player.x);ctx.save();ctx.translate(player.x,player.y);ctx.rotate(angle+Math.PI/2);ctx.fillStyle='#0f0';ctx.shadowBlur=15;ctx.shadowColor='#0f0';ctx.beginPath();ctx.moveTo(0,-20);ctx.lineTo(15,20);ctx.lineTo(0,10);ctx.lineTo(-15,20);ctx.closePath();ctx.fill();ctx.fillStyle='#fff';ctx.fillRect(-3,-10,6,10);ctx.shadowBlur=0;ctx.restore()}function spawnEnemy(){const type=Math.random()<0.6?'plane':'spaceship';enemies.push(new Enemy(type))}function spawnPowerup(x,y){const rand=Math.random();let type;if(rand<0.5)type='credits';else if(rand<0.8)type='health';else type='shield';powerupItems.push(new Powerup(x,y,type))}function checkCollision(rect1,rect2){return rect1.x<rect2.x+rect2.width&&rect1.x+rect1.width>rect2.x&&rect1.y<rect2.y+rect2.height&&rect1.y+rect1.height>rect2.y}function createExplosion(x,y,color){for(let i=0;i<15;i++)particles.push(new Particle(x,y,color))}function getFireRateCooldown(){return Math.max(5,15-(upgrades.fireRate.level-1)*2)}function getPlayerSpeed(){return 5+(upgrades.speed.level-1)*1}function getMaxHealth(){return 100+(upgrades.maxHealth.level-1)*25}function shootBullet(){const damage=upgrades.damage.level,multishot=upgrades.multishot.level;if(multishot===0){bullets.push(new Bullet(player.x,player.y,mouseX,mouseY,damage))}else if(multishot===1){bullets.push(new Bullet(player.x-10,player.y,mouseX,mouseY,damage));bullets.push(new Bullet(player.x+10,player.y,mouseX,mouseY,damage))}else if(multishot===2){bullets.push(new Bullet(player.x,player.y,mouseX,mouseY,damage));bullets.push(new Bullet(player.x-15,player.y,mouseX-30,mouseY,damage));bullets.push(new Bullet(player.x+15,player.y,mouseX+30,mouseY,damage))}else{bullets.push(new Bullet(player.x,player.y,mouseX,mouseY,damage));bullets.push(new Bullet(player.x-15,player.y,mouseX-40,mouseY,damage));bullets.push(new Bullet(player.x+15,player.y,mouseX+40,mouseY,damage));bullets.push(new Bullet(player.x-25,player.y,mouseX-60,mouseY,damage));bullets.push(new Bullet(player.x+25,player.y,mouseX+60,mouseY,damage))}}function updateGame(){if(!gameRunning)return;ctx.fillStyle='rgba(0, 0, 0, 0.1)';ctx.fillRect(0,0,canvas.width,canvas.height);stars.forEach(star=>{star.y+=star.speed;if(star.y>canvas.height){star.y=0;star.x=Math.random()*canvas.width}ctx.fillStyle='#fff';ctx.fillRect(star.x,star.y,star.size,star.size)});player.speed=getPlayerSpeed();if(keys['w']||keys['ArrowUp'])player.y=Math.max(0,player.y-player.speed);if(keys['s']||keys['ArrowDown'])player.y=Math.min(canvas.height-player.height,player.y+player.speed);if(keys['a']||keys['ArrowLeft'])player.x=Math.max(0,player.x-player.speed);if(keys['d']||keys['ArrowRight'])player.x=Math.min(canvas.width-player.width,player.x+player.speed);if(joystickActive){player.x+=joystickVector.x*player.speed;player.y+=joystickVector.y*player.speed;player.x=Math.max(0,Math.min(canvas.width-player.width,player.x));player.y=Math.max(0,Math.min(canvas.height-player.height,player.y))}if((keys[' ']||isShooting)&&player.shootCooldown<=0){shootBullet();player.shootCooldown=getFireRateCooldown()}if(player.shootCooldown>0)player.shootCooldown--;bullets.forEach((bullet,i)=>{bullet.update();bullet.draw();if(bullet.x<0||bullet.x>canvas.width||bullet.y<0||bullet.y>canvas.height){bullets.splice(i,1)}});if(Math.random()<0.02+level*0.005){spawnEnemy()}enemies.forEach((enemy,i)=>{enemy.update();enemy.draw();bullets.forEach((bullet,j)=>{if(checkCollision({x:bullet.x,y:bullet.y,width:bullet.size,height:bullet.size},enemy)){enemy.health-=bullet.damage;bullets.splice(j,1);if(enemy.health<=0){score+=enemy.points;credits+=enemy.creditDrop;createExplosion(enemy.x+enemy.width/2,enemy.y+enemy.height/2,enemy.type==='plane'?'#f90':'#f0f');if(Math.random()<0.3){spawnPowerup(enemy.x+enemy.width/2,enemy.y+enemy.height/2)}enemies.splice(i,1)}}});if(checkCollision(player,enemy)){health-=10;createExplosion(enemy.x+enemy.width/2,enemy.y+enemy.height/2,'#f00');enemies.splice(i,1);if(health<=0){gameOver()}}if(enemy.y>canvas.height){enemies.splice(i,1)}});powerupItems.forEach((powerup,i)=>{powerup.update();powerup.draw();if(checkCollision(player,powerup)){if(powerup.type==='health'){health=Math.min(getMaxHealth(),health+25)}else if(powerup.type==='credits'){credits+=25}else if(powerup.type==='shield'){health=Math.min(getMaxHealth(),health+50)}powerupItems.splice(i,1)}if(powerup.y>canvas.height||powerup.lifespan<=0){powerupItems.splice(i,1)}});particles.forEach((particle,i)=>{particle.update();particle.draw();if(particle.life<=0){particles.splice(i,1)}});drawPlayer();document.getElementById('score').textContent=score;document.getElementById('credits').textContent=credits;document.getElementById('health').textContent=Math.max(0,health);const newLevel=Math.floor(score/200)+1;if(newLevel>level){level=newLevel;document.getElementById('level').textContent=level}requestAnimationFrame(updateGame)}function purchaseUpgrade(upgradeName){const upgrade=upgrades[upgradeName];if(upgrade.level>=upgrade.maxLevel)return;if(credits<upgrade.cost)return;credits-=upgrade.cost;upgrade.level++;upgrade.cost=Math.floor(upgrade.baseCost*Math.pow(1.5,upgrade.level-1));if(upgradeName==='maxHealth'){health=Math.min(getMaxHealth(),health+25)}updateUpgradeUI()}function updateUpgradeUI(){for(const[key,upgrade]of Object.entries(upgrades)){const camelKey=key.charAt(0).toUpperCase()+key.slice(1).replace(/([A-Z])/g,' $1').trim().replace(/ /g,'');const levelId=key==='maxHealth'?'healthLevel':key+'Level';const costId=key==='maxHealth'?'healthCost':key+'Cost';const upgradeId='upgrade'+camelKey.replace(/\s/g,'');document.getElementById(levelId).textContent=upgrade.level;document.getElementById(costId).textContent=upgrade.cost;const element=document.getElementById(upgradeId);if(upgrade.level>=upgrade.maxLevel){element.classList.add('maxed');document.getElementById(costId).textContent='MAX'}}}function gameOver(){gameRunning=false;document.getElementById('gameOver').style.display='block';document.getElementById('finalScore').textContent=score}function restartGame(){gameRunning=true;score=0;health=100;level=1;bullets.length=0;enemies.length=0;particles.length=0;powerupItems.length=0;player.x=canvas.width/2;player.y=canvas.height-80;document.getElementById('gameOver').style.display='none';updateGame()}document.addEventListener('keydown',e=>keys[e.key]=true);document.addEventListener('keyup',e=>keys[e.key]=false);canvas.addEventListener('mousemove',e=>{const rect=canvas.getBoundingClientRect();mouseX=(e.clientX-rect.left)*(canvas.width/rect.width);mouseY=(e.clientY-rect.top)*(canvas.height/rect.height)});canvas.addEventListener('mousedown',()=>{isShooting=true});canvas.addEventListener('mouseup',()=>{isShooting=false});canvas.addEventListener('touchmove',e=>{e.preventDefault();const rect=canvas.getBoundingClientRect();const touch=e.touches[0];mouseX=(touch.clientX-rect.left)*(canvas.width/rect.width);mouseY=(touch.clientY-rect.top)*(canvas.height/rect.height)},{passive:false});const joystick=document.getElementById('joystick'),joystickKnob=document.getElementById('joystickKnob');function handleJoystickStart(e){joystickActive=true;const rect=joystick.getBoundingClientRect();joystickOrigin.x=rect.left+rect.width/2;joystickOrigin.y=rect.top+rect.height/2}function handleJoystickMove(e){if(!joystickActive)return;e.preventDefault();const touch=e.touches?e.touches[0]:e;const deltaX=touch.clientX-joystickOrigin.x;const deltaY=touch.clientY-joystickOrigin.y;const distance=Math.sqrt(deltaX*deltaX+deltaY*deltaY);const maxDistance=35;if(distance>maxDistance){joystickVector.x=(deltaX/distance)*(maxDistance/maxDistance);joystickVector.y=(deltaY/distance)*(maxDistance/maxDistance)}else{joystickVector.x=deltaX/maxDistance;joystickVector.y=deltaY/maxDistance}const knobX=Math.max(-35,Math.min(35,deltaX));const knobY=Math.max(-35,Math.min(35,deltaY));joystickKnob.style.transform=`translate(calc(-50% + ${knobX}px), calc(-50% + ${knobY}px))`}function handleJoystickEnd(){joystickActive=false;joystickVector.x=0;joystickVector.y=0;joystickKnob.style.transform='translate(-50%, -50%)'}joystick.addEventListener('touchstart',handleJoystickStart);joystick.addEventListener('touchmove',handleJoystickMove,{passive:false});joystick.addEventListener('touchend',handleJoystickEnd);const shootButton=document.getElementById('shootButton');shootButton.addEventListener('touchstart',(e)=>{e.preventDefault();isShooting=true});shootButton.addEventListener('touchend',(e)=>{e.preventDefault();isShooting=false});document.getElementById('upgradeFireRate').addEventListener('click',()=>purchaseUpgrade('fireRate'));document.getElementById('upgradeDamage').addEventListener('click',()=>purchaseUpgrade('damage'));document.getElementById('upgradeSpeed').addEventListener('click',()=>purchaseUpgrade('speed'));document.getElementById('upgradeHealth').addEventListener('click',()=>purchaseUpgrade('maxHealth'));document.getElementById('upgradeMultishot').addEventListener('click',()=>purchaseUpgrade('multishot'));updateUpgradeUI();updateGame();
    </script>
</body>
</html>  
